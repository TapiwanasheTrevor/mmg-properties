(()=>{var e={};e.id=118,e.ids=[118],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},98061:e=>{"use strict";e.exports=require("node:assert")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},72254:e=>{"use strict";e.exports=require("node:buffer")},40027:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},42725:e=>{"use strict";e.exports=require("node:http2")},87503:e=>{"use strict";e.exports=require("node:net")},38846:e=>{"use strict";e.exports=require("node:perf_hooks")},39630:e=>{"use strict";e.exports=require("node:querystring")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},93746:e=>{"use strict";e.exports=require("node:util/types")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},70247:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(36972),r(36852),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["tenants",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,36972)),"/Users/memimal/Desktop/PROJECTS/MMG/mmg-platform/app/tenants/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,36852)),"/Users/memimal/Desktop/PROJECTS/MMG/mmg-platform/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/memimal/Desktop/PROJECTS/MMG/mmg-platform/app/tenants/page.tsx"],u="/tenants/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/tenants/page",pathname:"/tenants",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},56650:(e,t,r)=>{Promise.resolve().then(r.bind(r,75158))},75158:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var s=r(10326),a=r(88455),n=r(17577),i=r(90434),l=r(19395),o=r(33071),c=r(567),d=r(90772),u=r(54432),h=r(34474),m=r(43273),x=r(65304),p=r(28758),f=r(83855),g=r(41291),j=r(88307),w=r(24061),y=r(15919),v=r(12714),N=r(69508),b=r(98091);let q=(0,r(62881).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var E=r(29798),I=r(42887),O=r(37358),S=r(60097),C=r(25816);function k({onTenantSelect:e}){let{user:t}=(0,l.aC)(),[r,a]=(0,n.useState)([]),[k,P]=(0,n.useState)(!0),[Z,A]=(0,n.useState)(""),[L,_]=(0,n.useState)(""),[T,z]=(0,n.useState)("all"),U=async()=>{if(t){P(!0),A("");try{let e={};"all"!==T&&(e.status=T);let t=await (0,C.ax)(e);a(t.tenants)}catch(e){A(e.message)}finally{P(!1)}}},M=async()=>{if(!L.trim()){U();return}P(!0);try{let e=await (0,C.BF)(L);a(e)}catch(e){A(e.message)}finally{P(!1)}},D=async e=>{if(confirm("Are you sure you want to delete this tenant? This action cannot be undone."))try{await (0,C.yO)(e),a(t=>t.filter(t=>t.id!==e))}catch(e){A(e.message)}},J=e=>({active:"bg-green-100 text-green-800",notice_period:"bg-yellow-100 text-yellow-800",former:"bg-gray-100 text-gray-800"})[e],R=e=>({active:"Active",notice_period:"Notice Period",former:"Former"})[e],Q=e=>(e.personalInfo.emergencyContact.name||"Tenant").split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2);return k&&0===r.length?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx(x.O,{className:"h-8 w-48"}),s.jsx(x.O,{className:"h-4 w-64 mt-2"})]}),s.jsx(x.O,{className:"h-10 w-32"})]}),s.jsx(o.Zb,{children:s.jsx(o.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx(x.O,{className:"h-10 flex-1"}),s.jsx(x.O,{className:"h-10 w-32"}),s.jsx(x.O,{className:"h-10 w-32"})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,s.jsxs)(o.Zb,{children:[s.jsx(o.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(x.O,{className:"h-12 w-12 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx(x.O,{className:"h-5 w-32"}),s.jsx(x.O,{className:"h-4 w-24 mt-1"})]})]})}),s.jsx(o.aY,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx(x.O,{className:"h-4 w-full"}),s.jsx(x.O,{className:"h-4 w-full"}),s.jsx(x.O,{className:"h-8 w-full"})]})})]},e))})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Tenants"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Manage tenant profiles and information (",r.length," tenants)"]})]}),(t?.role==="admin"||t?.role==="agent")&&s.jsx(d.z,{asChild:!0,children:(0,s.jsxs)(i.default,{href:"/tenants/new",children:[s.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Add Tenant"]})})]}),Z&&(0,s.jsxs)(m.bZ,{variant:"destructive",children:[s.jsx(g.Z,{className:"h-4 w-4"}),s.jsx(m.X,{children:Z})]}),s.jsx(o.Zb,{children:s.jsx(o.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(j.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(u.I,{placeholder:"Search by ID number, occupation, or emergency contact...",className:"pl-8",value:L,onChange:e=>_(e.target.value),onKeyDown:e=>"Enter"===e.key&&M()})]})}),(0,s.jsxs)(h.Ph,{value:T,onValueChange:e=>z(e),children:[s.jsx(h.i4,{className:"w-[180px]",children:s.jsx(h.ki,{placeholder:"Status"})}),(0,s.jsxs)(h.Bw,{children:[s.jsx(h.Ql,{value:"all",children:"All Status"}),s.jsx(h.Ql,{value:"active",children:"Active"}),s.jsx(h.Ql,{value:"notice_period",children:"Notice Period"}),s.jsx(h.Ql,{value:"former",children:"Former"})]})]}),(0,s.jsxs)(d.z,{onClick:M,children:[s.jsx(j.Z,{className:"mr-2 h-4 w-4"}),"Search"]})]})})}),0!==r.length||k?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(r=>(0,s.jsxs)(o.Zb,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(o.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(p.qE,{className:"h-12 w-12",children:s.jsx(p.Q5,{className:"text-sm font-medium",children:Q(r)})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium truncate",children:r.personalInfo.emergencyContact.name||"Tenant"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground truncate",children:["ID: ",r.personalInfo.idNumber]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(c.C,{className:J(r.status),children:R(r.status)}),(0,s.jsxs)(S.h_,{children:[s.jsx(S.$F,{asChild:!0,children:s.jsx(d.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(y.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(S.AW,{align:"end",children:[s.jsx(S.Xi,{asChild:!0,children:(0,s.jsxs)(i.default,{href:`/tenants/${r.id}`,children:[s.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"View Profile"]})}),(t?.role==="admin"||t?.role==="agent")&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(S.Xi,{asChild:!0,children:(0,s.jsxs)(i.default,{href:`/tenants/${r.id}/edit`,children:[s.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Edit"]})}),(0,s.jsxs)(S.Xi,{onClick:()=>D(r.id),className:"text-red-600",children:[s.jsx(b.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]})]})}),s.jsx(o.aY,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(q,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,s.jsxs)("span",{className:"truncate",children:[r.personalInfo.occupation,r.personalInfo.employer&&` at ${r.personalInfo.employer}`]})]}),r.currentUnit&&(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(E.Z,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,s.jsxs)("span",{children:["Unit: ",r.currentUnit]})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(I.Z,{className:"w-4 h-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:r.personalInfo.emergencyContact.phone})]}),(0,s.jsxs)("div",{className:"flex justify-between pt-3 border-t",children:[(0,s.jsxs)(d.z,{variant:"outline",size:"sm",onClick:()=>e?.(r.id),children:[s.jsx(v.Z,{className:"w-3 h-3 mr-1"}),"View"]}),s.jsx("div",{className:"space-x-2",children:"active"===r.status&&s.jsx(d.z,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsxs)(i.default,{href:`/tenants/${r.id}/lease`,children:[s.jsx(O.Z,{className:"w-3 h-3 mr-1"}),"Lease"]})})})]})]})})]},r.id))}):s.jsx(o.Zb,{children:(0,s.jsxs)(o.aY,{className:"pt-6 text-center",children:[s.jsx(w.Z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No tenants found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:L?"No tenants match your search criteria.":"Get started by adding your first tenant."}),(t?.role==="admin"||t?.role==="agent")&&!L&&s.jsx(d.z,{asChild:!0,children:(0,s.jsxs)(i.default,{href:"/tenants/new",children:[s.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Add Tenant"]})})]})}),k&&r.length>0&&s.jsx("div",{className:"text-center py-4",children:(0,s.jsxs)("div",{className:"inline-flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Loading more tenants..."]})})]})}function P(){return s.jsx(a.Z,{allowedRoles:["admin","agent","owner"],children:s.jsx(k,{})})}},28758:(e,t,r)=>{"use strict";r.d(t,{F$:()=>o,Q5:()=>c,qE:()=>l});var s=r(10326),a=r(17577),n=r(42851),i=r(77863);let l=a.forwardRef(({className:e,...t},r)=>s.jsx(n.fC,{ref:r,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));l.displayName=n.fC.displayName;let o=a.forwardRef(({className:e,...t},r)=>s.jsx(n.Ee,{ref:r,className:(0,i.cn)("aspect-square h-full w-full",e),...t}));o.displayName=n.Ee.displayName;let c=a.forwardRef(({className:e,...t},r)=>s.jsx(n.NY,{ref:r,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));c.displayName=n.NY.displayName},54041:(e,t,r)=>{"use strict";r.d(t,{E2:()=>i,lK:()=>o,vw:()=>l,zI:()=>c});var s=r(76);r(11552);var a=r(20902);let n=(0,s.hJ)(a.db,"properties"),i=async e=>{try{let t=(0,s.JU)(a.db,"properties",e);await (0,s.oe)(t)}catch(e){throw console.error("Error deleting property:",e),e}},l=async(e={})=>{try{let t=(0,s.IO)(n);e.ownerId&&(t=(0,s.IO)(t,(0,s.ar)("ownerId","==",e.ownerId))),e.assignedAgentId&&(t=(0,s.IO)(t,(0,s.ar)("assignedAgents","array-contains",e.assignedAgentId))),e.type&&(t=(0,s.IO)(t,(0,s.ar)("type","==",e.type))),e.status&&(t=(0,s.IO)(t,(0,s.ar)("status","==",e.status))),t=(0,s.IO)(t,(0,s.Xo)("createdAt","desc")),e.pageSize&&(t=(0,s.IO)(t,(0,s.b9)(e.pageSize))),e.lastDoc&&(t=(0,s.IO)(t,(0,s.TQ)(e.lastDoc)));let r=await (0,s.PL)(t),a=[];return r.forEach(e=>{a.push({id:e.id,...e.data()})}),{properties:a,lastDoc:r.docs[r.docs.length-1],hasMore:r.docs.length===(e.pageSize||0)}}catch(e){throw console.error("Error getting properties:",e),e}},o=async(e,t=10)=>{try{let r=(0,s.IO)(n,(0,s.ar)("name",">=",e),(0,s.ar)("name","<=",e+"ï£¿"),(0,s.Xo)("name"),t(t)),a=await (0,s.PL)(r),i=[];return a.forEach(e=>{i.push({id:e.id,...e.data()})}),i}catch(e){throw console.error("Error searching properties:",e),e}},c=async(e,t,r)=>{try{let n=(0,s.JU)(a.db,"properties",e);await (0,s.r7)(n,{totalUnits:t,occupiedUnits:r,updatedAt:(0,s.Bt)()})}catch(e){throw console.error("Error updating property occupancy:",e),e}}},25816:(e,t,r)=>{"use strict";r.d(t,{yO:()=>x,ax:()=>p,hk:()=>g,BF:()=>f});var s=r(76),a=r(20902);r(11552);var n=r(54041);let i=(0,s.hJ)(a.db,"units"),l=async e=>{try{let t=(0,s.JU)(a.db,"units",e),r=await (0,s.QT)(t);if(r.exists())return{id:r.id,...r.data()};return null}catch(e){throw console.error("Error getting unit:",e),e}},o=async e=>{try{let t=(0,s.IO)(i,(0,s.ar)("propertyId","==",e),(0,s.Xo)("label")),r=await (0,s.PL)(t),a=[];return r.forEach(e=>{a.push({id:e.id,...e.data()})}),a}catch(e){throw console.error("Error getting units by property:",e),e}},c=async(e,t,r)=>{try{let n=(0,s.JU)(a.db,"units",e),i={currentTenantId:t,currentLeaseId:r,status:t?"occupied":"vacant",updatedAt:(0,s.Bt)()};await (0,s.r7)(n,i);let o=await l(e);o&&await d(o.propertyId)}catch(e){throw console.error("Error updating unit tenant:",e),e}},d=async e=>{try{let t=await o(e),r=t.filter(e=>"occupied"===e.status).length;await (0,n.zI)(e,t.length,r)}catch(e){throw console.error("Error updating property occupancy stats:",e),e}},u=(0,s.hJ)(a.db,"tenants"),h=async e=>{try{let t=(0,s.JU)(a.db,"tenants",e),r=await (0,s.QT)(t);if(r.exists())return{id:r.id,...r.data()};return null}catch(e){throw console.error("Error getting tenant:",e),e}},m=async(e,t)=>{try{let r=(0,s.JU)(a.db,"tenants",e);await (0,s.r7)(r,t)}catch(e){throw console.error("Error updating tenant:",e),e}},x=async e=>{try{let t=await h(e);if(!t)throw Error("Tenant not found");t.currentUnit&&await c(t.currentUnit,null,null);let r=(0,s.JU)(a.db,"tenants",e);await (0,s.oe)(r)}catch(e){throw console.error("Error deleting tenant:",e),e}},p=async(e={})=>{try{let t=(0,s.IO)(u);e.status&&(t=(0,s.IO)(t,(0,s.ar)("status","==",e.status))),t=(0,s.IO)(t,(0,s.Xo)("createdAt","desc")),e.pageSize&&(t=(0,s.IO)(t,(0,s.b9)(e.pageSize))),e.lastDoc&&(t=(0,s.IO)(t,(0,s.TQ)(e.lastDoc)));let r=await (0,s.PL)(t),a=[];r.forEach(e=>{a.push({id:e.id,...e.data()})});let n=a;if(e.searchTerm){let t=e.searchTerm.toLowerCase();n=a.filter(e=>e.personalInfo.idNumber.toLowerCase().includes(t)||e.personalInfo.occupation.toLowerCase().includes(t)||e.personalInfo.emergencyContact.name.toLowerCase().includes(t))}return e.propertyId,{tenants:n,lastDoc:r.docs[r.docs.length-1],hasMore:r.docs.length===(e.pageSize||0)}}catch(e){throw console.error("Error getting tenants:",e),e}},f=async(e,t=10)=>{try{let r=await p({pageSize:100}),s=e.toLowerCase();return r.tenants.filter(e=>e.personalInfo.idNumber.toLowerCase().includes(s)||e.personalInfo.occupation.toLowerCase().includes(s)||e.personalInfo.emergencyContact.name.toLowerCase().includes(s)).slice(0,t)}catch(e){throw console.error("Error searching tenants:",e),e}},g=async e=>{try{let t=await h(e);if(!t||!t.currentUnit)throw Error("Tenant not found or not assigned to a unit");await m(e,{currentUnit:void 0,status:"former"}),await c(t.currentUnit,null,null)}catch(e){throw console.error("Error removing tenant from unit:",e),e}}},42887:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},24061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},65442:(e,t,r)=>{"use strict";var s=r(17577),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,i=s.useEffect,l=s.useLayoutEffect,o=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,d=s[1];return l(function(){a.value=r,a.getSnapshot=t,c(a)&&d({inst:a})},[e,r,t]),i(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},94095:(e,t,r)=>{"use strict";e.exports=r(65442)},36972:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/memimal/Desktop/PROJECTS/MMG/mmg-platform/app/tenants/page.tsx#default`)},42851:(e,t,r)=>{"use strict";r.d(t,{NY:()=>q,Ee:()=>b,fC:()=>N});var s=r(17577),a=r(93095),n=r(55049),i=r(65819),l=r(45226),o=r(94095);function c(){return()=>{}}var d=r(10326),u="Avatar",[h,m]=(0,a.b)(u),[x,p]=h(u),f=s.forwardRef((e,t)=>{let{__scopeAvatar:r,...a}=e,[n,i]=s.useState("idle");return(0,d.jsx)(x,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:(0,d.jsx)(l.WV.span,{...a,ref:t})})});f.displayName=u;var g="AvatarImage",j=s.forwardRef((e,t)=>{let{__scopeAvatar:r,src:a,onLoadingStatusChange:u=()=>{},...h}=e,m=p(g,r),x=function(e,{referrerPolicy:t,crossOrigin:r}){let a=(0,o.useSyncExternalStore)(c,()=>!0,()=>!1),n=s.useRef(null),l=a?(n.current||(n.current=new window.Image),n.current):null,[d,u]=s.useState(()=>v(l,e));return(0,i.b)(()=>{u(v(l,e))},[l,e]),(0,i.b)(()=>{let e=e=>()=>{u(e)};if(!l)return;let s=e("loaded"),a=e("error");return l.addEventListener("load",s),l.addEventListener("error",a),t&&(l.referrerPolicy=t),"string"==typeof r&&(l.crossOrigin=r),()=>{l.removeEventListener("load",s),l.removeEventListener("error",a)}},[l,r,t]),d}(a,h),f=(0,n.W)(e=>{u(e),m.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==x&&f(x)},[x,f]),"loaded"===x?(0,d.jsx)(l.WV.img,{...h,ref:t,src:a}):null});j.displayName=g;var w="AvatarFallback",y=s.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:a,...n}=e,i=p(w,r),[o,c]=s.useState(void 0===a);return s.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(e)}},[a]),o&&"loaded"!==i.imageLoadingStatus?(0,d.jsx)(l.WV.span,{...n,ref:t}):null});function v(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}y.displayName=w;var N=f,b=j,q=y}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[100,825,423,506,404,799,307,967,89],()=>r(70247));module.exports=s})();