(()=>{var e={};e.id=807,e.ids=[807],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},98061:e=>{"use strict";e.exports=require("node:assert")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},72254:e=>{"use strict";e.exports=require("node:buffer")},40027:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},42725:e=>{"use strict";e.exports=require("node:http2")},87503:e=>{"use strict";e.exports=require("node:net")},38846:e=>{"use strict";e.exports=require("node:perf_hooks")},39630:e=>{"use strict";e.exports=require("node:querystring")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},93746:e=>{"use strict";e.exports=require("node:util/types")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},11456:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(20767),t(36852),t(35866);var i=t(23191),a=t(88716),r=t(37922),n=t.n(r),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["inspections",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,20767)),"/Users/memimal/Desktop/PROJECTS/MMG/mmg-platform/app/inspections/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,36852)),"/Users/memimal/Desktop/PROJECTS/MMG/mmg-platform/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/memimal/Desktop/PROJECTS/MMG/mmg-platform/app/inspections/page.tsx"],p="/inspections/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/inspections/page",pathname:"/inspections",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},46725:(e,s,t)=>{Promise.resolve().then(t.bind(t,64488))},64488:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>H});var i=t(10326),a=t(17577),r=t(19395),n=t(35047),l=t(33071),o=t(567),c=t(90772),d=t(54432),p=t(34474),h=t(43273),m=t(65304),x=t(37358),u=t(48998),g=t(30361),j=t(41291),v=t(36283),y=t(83855),f=t(50949),w=t(17069),N=t(41137),b=t(88307),C=t(79635),k=t(38787),_=t(12714),I=t(45804),D=t(76),Z=t(11552),q=t(20902),$=t(63324);let P=(0,D.hJ)(q.db,"inspections"),S=[{name:"Kitchen",items:["Cabinets and drawers","Countertops","Sink and faucet","Appliances (stove, refrigerator, dishwasher)","Electrical outlets","Lighting","Flooring","Windows","Plumbing"]},{name:"Living Room",items:["Walls and paint","Flooring/carpet","Windows and screens","Doors","Electrical outlets","Lighting fixtures","HVAC vents","Ceiling"]},{name:"Bedrooms",items:["Walls and paint","Flooring/carpet","Windows and screens","Closets","Doors","Electrical outlets","Lighting fixtures","HVAC vents"]},{name:"Bathrooms",items:["Toilet","Sink and faucet","Shower/bathtub","Tiles and grout","Mirrors","Lighting","Exhaust fan","Plumbing","Electrical outlets"]},{name:"Exterior",items:["Roof condition","Gutters and downspouts","Siding/exterior walls","Windows and screens","Doors","Walkways and steps","Landscaping","Fencing","Parking areas"]},{name:"Systems",items:["HVAC system","Electrical panel","Plumbing system","Water heater","Smoke detectors","Carbon monoxide detectors","Security system","Internet/cable setup"]}],U=async(e,s,t)=>{try{let i=S.map((e,s)=>({id:`area_${s}`,name:e.name,condition:"good",notes:"",photos:[],items:e.items.map((e,t)=>({id:`item_${s}_${t}`,name:e,condition:"good",notes:"",requiresAttention:!1,photos:[]}))})),a={...e,areas:i,photos:[],issues:[],reportGenerated:!1,createdBy:s,createdByName:t,createdAt:(0,D.Bt)(),updatedAt:(0,D.Bt)()},r=await (0,D.ET)(P,a);return await $.Cv.logDataExport(s,"","inspection",{action:"create",inspectionId:r.id,propertyId:e.propertyId,inspectionType:e.inspectionType}),r.id}catch(e){throw console.error("Error creating inspection report:",e),e}},Q=async e=>{try{let s=(0,D.JU)(q.db,"inspections",e),t=await (0,D.QT)(s);if(t.exists())return{id:t.id,...t.data()};return null}catch(e){throw console.error("Error getting inspection report:",e),e}},M=async(e,s,t)=>{try{let i=(0,D.JU)(q.db,"inspections",e);await (0,D.r7)(i,{...s,updatedAt:(0,D.Bt)()}),await $.Cv.logDataExport(t,"","inspection",{action:"update",inspectionId:e,updates:s})}catch(e){throw console.error("Error updating inspection report:",e),e}},A=async(e,s,t,i)=>{try{let a=Date.now(),r=`inspection_${e}_${a}_${s.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,n=(0,Z.iH)(q.tO,`inspections/${e}/${r}`),l=await (0,Z.KV)(n,s),o=await (0,Z.Jt)(l.ref),c={id:`photo_${a}`,url:o,filename:s.name,caption:t.caption,areaId:t.areaId,itemId:t.itemId,timestamp:(0,D.Bt)(),uploadedBy:i},d=await Q(e);if(!d)throw Error("Inspection not found");let p=[...d.photos,c];return await M(e,{photos:p},i),await $.Cv.logDataExport(i,"","inspection",{action:"upload_photo",inspectionId:e,photoId:c.id,filename:s.name}),c.id}catch(e){throw console.error("Error uploading inspection photo:",e),e}},E=async(e,s,t,i)=>{try{let a=await Q(e);if(!a)throw Error("Inspection not found");let r=a.areas.map(e=>e.id===s?{...e,...t}:e);await M(e,{areas:r},i)}catch(e){throw console.error("Error updating inspection area:",e),e}},T=async(e,s,t,i,a)=>{try{let r=await Q(e);if(!r)throw Error("Inspection not found");let n=r.areas.map(e=>{if(e.id===s){let s=e.items.map(e=>e.id===t?{...e,...i}:e);return{...e,items:s}}return e});await M(e,{areas:n},a)}catch(e){throw console.error("Error updating inspection item:",e),e}},R=async(e,s,t)=>{try{let i=await Q(e);if(!i)throw Error("Inspection not found");let a={...s,id:`issue_${Date.now()}`,resolved:!1},r=[...i.issues,a];return await M(e,{issues:r},t),a.id}catch(e){throw console.error("Error adding inspection issue:",e),e}},F=async(e,s,t)=>{try{let i={status:"completed",completedDate:(0,D.Bt)(),overallCondition:s.overallCondition,recommendations:s.recommendations,followUpRequired:s.followUpRequired,followUpNotes:s.followUpNotes};s.followUpDate&&(i.followUpDate=D.EK.fromDate(s.followUpDate)),s.tenantSignature&&(i.tenant={...i.tenant,signature:s.tenantSignature}),await M(e,i,t),await $.Cv.logDataExport(t,"","inspection",{action:"complete",inspectionId:e,overallCondition:s.overallCondition})}catch(e){throw console.error("Error completing inspection:",e),e}},O=async(e,s)=>{try{let i=await Q(e);if(!i)throw Error("Inspection not found");let a=z(i),r=new Blob([a],{type:"text/html"}),n=new File([r],`inspection-report-${e}.html`,{type:"text/html"}),{uploadDocument:l}=await t.e(296).then(t.bind(t,11296)),o=await l(n,{name:`Inspection Report - ${i.inspectionType}`,description:`Inspection report for ${i.purpose}`,category:"inspection_reports",tags:["inspection","report",i.inspectionType],relatedResource:{type:"property",id:i.propertyId,name:`Property ${i.propertyId}`},accessLevel:"private"},s,"System","system");return await M(e,{reportGenerated:!0,reportUrl:o},s),await $.Cv.logDataExport(s,"","inspection",{action:"generate_report",inspectionId:e,documentId:o}),o}catch(e){throw console.error("Error generating inspection report PDF:",e),e}},z=e=>{let s=e.issues.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{});return`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Inspection Report - ${e.id}</title>
      <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
        .section { margin-bottom: 30px; }
        .area { margin-bottom: 20px; border: 1px solid #ddd; padding: 15px; }
        .item { margin-left: 20px; margin-bottom: 10px; }
        .condition { padding: 3px 8px; border-radius: 3px; font-size: 12px; }
        .excellent { background-color: #dcfce7; color: #166534; }
        .good { background-color: #dbeafe; color: #1e40af; }
        .fair { background-color: #fef3c7; color: #92400e; }
        .poor { background-color: #fed7d7; color: #c53030; }
        .critical { background-color: #fee2e2; color: #dc2626; }
        .issue { margin-bottom: 15px; padding: 10px; border-left: 4px solid #dc2626; background-color: #fef2f2; }
        .photo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin: 10px 0; }
        .photo { max-width: 100%; height: auto; border: 1px solid #ddd; }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>Property Inspection Report</h1>
        <p><strong>Inspection ID:</strong> ${e.id}</p>
        <p><strong>Date:</strong> ${e.scheduledDate.toDate().toLocaleDateString()}</p>
        <p><strong>Inspector:</strong> ${e.inspector.name}</p>
        <p><strong>Type:</strong> ${e.inspectionType.replace("_"," ").toUpperCase()}</p>
        <p><strong>Overall Condition:</strong> <span class="condition ${e.overallCondition}">${e.overallCondition.toUpperCase()}</span></p>
      </div>
      
      <div class="section">
        <h2>Property Details</h2>
        <p><strong>Property ID:</strong> ${e.propertyId}</p>
        ${e.unitId?`<p><strong>Unit ID:</strong> ${e.unitId}</p>`:""}
        <p><strong>Purpose:</strong> ${e.purpose}</p>
      </div>
      
      <div class="section">
        <h2>Inspection Areas</h2>
        ${e.areas.map(e=>`
          <div class="area">
            <h3>${e.name} <span class="condition ${e.condition}">${e.condition.toUpperCase()}</span></h3>
            ${e.notes?`<p><em>${e.notes}</em></p>`:""}
            ${e.items.map(e=>`
              <div class="item">
                <strong>${e.name}:</strong> 
                <span class="condition ${e.condition}">${e.condition.replace("_"," ").toUpperCase()}</span>
                ${e.requiresAttention?' <strong style="color: red;">(Requires Attention)</strong>':""}
                ${e.notes?`<br><em>${e.notes}</em>`:""}
                ${e.estimatedCost?`<br><strong>Estimated Cost:</strong> $${e.estimatedCost}`:""}
              </div>
            `).join("")}
          </div>
        `).join("")}
      </div>
      
      ${e.issues.length>0?`
        <div class="section">
          <h2>Issues Identified</h2>
          ${Object.entries(s).map(([e,s])=>`
            <h3>${e.toUpperCase()}</h3>
            ${s.map(e=>`
              <div class="issue">
                <h4>${e.title} <span class="condition ${e.severity}">${e.severity.toUpperCase()}</span></h4>
                <p><strong>Location:</strong> ${e.location}</p>
                <p><strong>Description:</strong> ${e.description}</p>
                <p><strong>Recommended Action:</strong> ${e.recommendedAction}</p>
                ${e.estimatedCost?`<p><strong>Estimated Cost:</strong> $${e.estimatedCost}</p>`:""}
                ${e.requiresImmediateAttention?'<p style="color: red; font-weight: bold;">REQUIRES IMMEDIATE ATTENTION</p>':""}
              </div>
            `).join("")}
          `).join("")}
        </div>
      `:""}
      
      ${e.photos.length>0?`
        <div class="section">
          <h2>Photos</h2>
          <div class="photo-grid">
            ${e.photos.map(e=>`
              <div>
                <img src="${e.url}" alt="${e.caption||"Inspection photo"}" class="photo">
                ${e.caption?`<p style="font-size: 12px; text-align: center;">${e.caption}</p>`:""}
              </div>
            `).join("")}
          </div>
        </div>
      `:""}
      
      <div class="section">
        <h2>Recommendations</h2>
        <p>${e.recommendations||"No specific recommendations at this time."}</p>
        
        ${e.followUpRequired?`
          <h3>Follow-up Required</h3>
          ${e.followUpDate?`<p><strong>Follow-up Date:</strong> ${e.followUpDate.toDate().toLocaleDateString()}</p>`:""}
          ${e.followUpNotes?`<p><strong>Notes:</strong> ${e.followUpNotes}</p>`:""}
        `:"<p><strong>No follow-up required.</strong></p>"}
      </div>
      
      <div class="section">
        <h2>Signatures</h2>
        <div style="display: flex; justify-content: space-between; margin-top: 50px;">
          <div style="text-align: center;">
            <div style="border-bottom: 1px solid #000; width: 200px; height: 50px; margin-bottom: 10px;"></div>
            <p><strong>Inspector Signature</strong></p>
            <p>${e.inspector.name}</p>
            <p>Date: ${e.completedDate?e.completedDate.toDate().toLocaleDateString():"_____________"}</p>
          </div>
          ${e.tenant?`
            <div style="text-align: center;">
              <div style="border-bottom: 1px solid #000; width: 200px; height: 50px; margin-bottom: 10px;">
                ${e.tenant.signature?`<img src="${e.tenant.signature}" style="max-height: 45px; max-width: 195px;" alt="Tenant Signature">`:""}
              </div>
              <p><strong>Tenant Signature</strong></p>
              <p>${e.tenant.name}</p>
              <p>Date: ${e.completedDate?e.completedDate.toDate().toLocaleDateString():"_____________"}</p>
            </div>
          `:""}
        </div>
      </div>
      
      <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
        <p>This report was generated by MMG Property Consultancy on ${new Date().toLocaleDateString()}</p>
        <p>For questions or concerns, contact: info@mmgproperty.com</p>
      </div>
    </body>
    </html>
  `};var B=t(45842),L=t(87673),V=t(79210),Y=t(51896),G=t(31540);function W({inspectionId:e,propertyId:s,unitId:t,onInspectionCreated:n}){let{user:x}=(0,r.aC)(),u=(0,a.useRef)(null);(0,a.useRef)(null);let[v,w]=(0,a.useState)(null),[N,b]=(0,a.useState)(!1),[C,k]=(0,a.useState)(!1),[_,D]=(0,a.useState)(""),[Z,q]=(0,a.useState)(""),[$,P]=(0,a.useState)("overview"),[S,M]=(0,a.useState)(!1),[z,W]=(0,a.useState)(!1),[H,J]=(0,a.useState)(!1),[X,K]=(0,a.useState)({inspectionType:"routine",scheduledDate:new Date().toISOString().split("T")[0],purpose:"",inspector:{name:x?.name||"",contact:""},tenant:{name:"",present:!1}}),[ee,es]=(0,a.useState)({severity:"medium",category:"maintenance",title:"",description:"",location:"",estimatedCost:0,priority:5,requiresImmediateAttention:!1,recommendedAction:""}),[et,ei]=(0,a.useState)({overallCondition:"good",recommendations:"",followUpRequired:!1,followUpDate:"",followUpNotes:""}),ea=async()=>{if(e){b(!0);try{let s=await Q(e);w(s)}catch(e){D(e.message)}finally{b(!1)}}},er=async()=>{if(x&&s){k(!0),D("");try{let e={propertyId:s,unitId:t,inspectionType:X.inspectionType,status:"in_progress",scheduledDate:new Date(X.scheduledDate),inspector:{id:x.id,name:X.inspector.name,role:x.role,contact:X.inspector.contact},tenant:X.tenant.name?{id:"unknown",name:X.tenant.name,present:X.tenant.present}:void 0,purpose:X.purpose,overallCondition:"good",recommendations:"",followUpRequired:!1,reportGenerated:!1},i=await U(e,x.id,x.name);q("Inspection created successfully!"),n&&n(i)}catch(e){D(e.message)}finally{k(!1)}}},en=async(e,s)=>{if(v&&x)try{await E(v.id,e,s,x.id),await ea(),q("Area updated successfully!")}catch(e){D(e.message)}},el=async(e,s,t)=>{if(v&&x)try{await T(v.id,e,s,t,x.id),await ea()}catch(e){D(e.message)}},eo=async(e,s,t)=>{if(v&&x)try{await A(v.id,e,{areaId:s,itemId:t,caption:""},x.id),await ea(),q("Photo uploaded successfully!")}catch(e){D(e.message)}},ec=async()=>{if(v&&x)try{await R(v.id,{...ee,photos:[]},x.id),es({severity:"medium",category:"maintenance",title:"",description:"",location:"",estimatedCost:0,priority:5,requiresImmediateAttention:!1,recommendedAction:""}),M(!1),await ea(),q("Issue added successfully!")}catch(e){D(e.message)}},ed=async()=>{if(v&&x)try{await F(v.id,{...et,followUpDate:et.followUpDate?new Date(et.followUpDate):void 0},x.id),await ea(),q("Inspection completed successfully!")}catch(e){D(e.message)}},ep=async()=>{if(v&&x)try{await O(v.id,x.id),q("PDF report generated successfully!")}catch(e){D(e.message)}},eh=e=>({excellent:"bg-green-100 text-green-800",good:"bg-blue-100 text-blue-800",fair:"bg-yellow-100 text-yellow-800",poor:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800",not_applicable:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",em=e=>({low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800";return N?i.jsx("div",{className:"space-y-6",children:i.jsx(l.Zb,{children:(0,i.jsxs)(l.aY,{className:"pt-6",children:[i.jsx(m.O,{className:"h-8 w-64 mb-4"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(e=>i.jsx(m.O,{className:"h-32"},e))})]})})}):e&&v?(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Inspection Report"}),(0,i.jsxs)("p",{className:"text-muted-foreground",children:[v.purpose," - ",(0,I.WU)(v.scheduledDate.toDate(),"PPP")]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(o.C,{className:eh(v.overallCondition),children:v.overallCondition.toUpperCase()}),i.jsx(o.C,{variant:"completed"===v.status?"default":"secondary",children:v.status.replace("_"," ").toUpperCase()})]})]}),_&&(0,i.jsxs)(h.bZ,{variant:"destructive",children:[i.jsx(j.Z,{className:"h-4 w-4"}),i.jsx(h.X,{children:_})]}),Z&&(0,i.jsxs)(h.bZ,{children:[i.jsx(g.Z,{className:"h-4 w-4"}),i.jsx(h.X,{children:Z})]}),(0,i.jsxs)(V.mQ,{value:$,onValueChange:P,className:"w-full",children:[(0,i.jsxs)(V.dr,{className:"grid w-full grid-cols-4",children:[i.jsx(V.SP,{value:"overview",children:"Overview"}),i.jsx(V.SP,{value:"areas",children:"Areas"}),i.jsx(V.SP,{value:"issues",children:"Issues"}),i.jsx(V.SP,{value:"complete",children:"Complete"})]}),(0,i.jsxs)(V.nU,{value:"overview",className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)(l.Zb,{children:[i.jsx(l.Ol,{children:i.jsx(l.ll,{className:"text-sm",children:"Inspector"})}),i.jsx(l.aY,{children:(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:v.inspector.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:v.inspector.role}),v.inspector.contact&&i.jsx("p",{className:"text-sm text-muted-foreground",children:v.inspector.contact})]})})]}),v.tenant&&(0,i.jsxs)(l.Zb,{children:[i.jsx(l.Ol,{children:i.jsx(l.ll,{className:"text-sm",children:"Tenant"})}),i.jsx(l.aY,{children:(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:v.tenant.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:v.tenant.present?"Present during inspection":"Not present"})]})})]}),(0,i.jsxs)(l.Zb,{children:[i.jsx(l.Ol,{children:i.jsx(l.ll,{className:"text-sm",children:"Summary"})}),i.jsx(l.aY,{children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Areas:"}),i.jsx("span",{className:"font-medium",children:v.areas.length})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Issues:"}),i.jsx("span",{className:"font-medium",children:v.issues.length})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Photos:"}),i.jsx("span",{className:"font-medium",children:v.photos.length})]})]})})]})]}),v.photos.length>0&&(0,i.jsxs)(l.Zb,{children:[i.jsx(l.Ol,{children:i.jsx(l.ll,{children:"Photos"})}),i.jsx(l.aY,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:v.photos.map(e=>(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx("img",{src:e.url,alt:e.caption||"Inspection photo",className:"w-full h-32 object-cover rounded-lg border"}),e.caption&&i.jsx("p",{className:"text-xs text-muted-foreground",children:e.caption})]},e.id))})})]})]}),i.jsx(V.nU,{value:"areas",className:"space-y-4",children:v.areas.map(e=>(0,i.jsxs)(l.Zb,{children:[i.jsx(l.Ol,{children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[i.jsx(l.ll,{children:e.name}),i.jsx(o.C,{className:eh(e.condition),children:e.condition.toUpperCase()})]})}),(0,i.jsxs)(l.aY,{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.items.map(s=>(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[i.jsx("h4",{className:"font-medium text-sm",children:s.name}),(0,i.jsxs)(p.Ph,{value:s.condition,onValueChange:t=>el(e.id,s.id,{condition:t}),children:[i.jsx(p.i4,{className:"w-24 h-8",children:i.jsx(p.ki,{})}),(0,i.jsxs)(p.Bw,{children:[i.jsx(p.Ql,{value:"excellent",children:"Excellent"}),i.jsx(p.Ql,{value:"good",children:"Good"}),i.jsx(p.Ql,{value:"fair",children:"Fair"}),i.jsx(p.Ql,{value:"poor",children:"Poor"}),i.jsx(p.Ql,{value:"critical",children:"Critical"}),i.jsx(p.Ql,{value:"not_applicable",children:"N/A"})]})]})]}),i.jsx(o.C,{className:eh(s.condition),size:"sm",children:s.condition.replace("_"," ").toUpperCase()}),s.requiresAttention&&(0,i.jsxs)("div",{className:"flex items-center text-orange-600 text-xs",children:[i.jsx(f.Z,{className:"w-3 h-3 mr-1"}),"Requires Attention"]}),s.notes&&i.jsx("p",{className:"text-xs text-muted-foreground",children:s.notes})]},s.id))}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("input",{type:"file",ref:u,accept:"image/*",onChange:s=>{let t=s.target.files?.[0];t&&eo(t,e.id)},className:"hidden"}),(0,i.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>u.current?.click(),children:[i.jsx(Y.Z,{className:"w-4 h-4 mr-2"}),"Add Photo"]}),(0,i.jsxs)(p.Ph,{value:e.condition,onValueChange:s=>en(e.id,{condition:s}),children:[i.jsx(p.i4,{className:"w-32",children:i.jsx(p.ki,{})}),(0,i.jsxs)(p.Bw,{children:[i.jsx(p.Ql,{value:"excellent",children:"Excellent"}),i.jsx(p.Ql,{value:"good",children:"Good"}),i.jsx(p.Ql,{value:"fair",children:"Fair"}),i.jsx(p.Ql,{value:"poor",children:"Poor"}),i.jsx(p.Ql,{value:"critical",children:"Critical"})]})]})]})]})]},e.id))}),(0,i.jsxs)(V.nU,{value:"issues",className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold",children:["Issues (",v.issues.length,")"]}),(0,i.jsxs)(c.z,{onClick:()=>M(!0),children:[i.jsx(y.Z,{className:"w-4 h-4 mr-2"}),"Add Issue"]})]}),0===v.issues.length?i.jsx(l.Zb,{children:i.jsx(l.aY,{className:"flex items-center justify-center h-32",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(g.Z,{className:"mx-auto h-8 w-8 text-green-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"No issues found"})]})})}):i.jsx("div",{className:"space-y-3",children:v.issues.map(e=>i.jsx(l.Zb,{children:(0,i.jsxs)(l.aY,{className:"pt-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-semibold",children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.location})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[i.jsx(o.C,{className:em(e.severity),children:e.severity.toUpperCase()}),i.jsx(o.C,{variant:"outline",children:e.category.replace("_"," ").toUpperCase()})]})]}),i.jsx("p",{className:"text-sm mb-3",children:e.description}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Recommended Action:"})," ",e.recommendedAction]}),e.estimatedCost&&(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Estimated Cost:"})," $",e.estimatedCost]}),(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Priority:"})," ",e.priority,"/10"]}),e.requiresImmediateAttention&&i.jsx("div",{className:"text-red-600 font-medium",children:"⚠️ Requires Immediate Attention"})]})]})},e.id))}),S&&(0,i.jsxs)(l.Zb,{children:[i.jsx(l.Ol,{children:i.jsx(l.ll,{children:"Add New Issue"})}),(0,i.jsxs)(l.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Title"}),i.jsx(d.I,{value:ee.title,onChange:e=>es(s=>({...s,title:e.target.value})),placeholder:"Issue title"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Location"}),i.jsx(d.I,{value:ee.location,onChange:e=>es(s=>({...s,location:e.target.value})),placeholder:"Where is this issue located?"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Severity"}),(0,i.jsxs)(p.Ph,{value:ee.severity,onValueChange:e=>es(s=>({...s,severity:e})),children:[i.jsx(p.i4,{children:i.jsx(p.ki,{})}),(0,i.jsxs)(p.Bw,{children:[i.jsx(p.Ql,{value:"low",children:"Low"}),i.jsx(p.Ql,{value:"medium",children:"Medium"}),i.jsx(p.Ql,{value:"high",children:"High"}),i.jsx(p.Ql,{value:"critical",children:"Critical"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Category"}),(0,i.jsxs)(p.Ph,{value:ee.category,onValueChange:e=>es(s=>({...s,category:e})),children:[i.jsx(p.i4,{children:i.jsx(p.ki,{})}),(0,i.jsxs)(p.Bw,{children:[i.jsx(p.Ql,{value:"safety",children:"Safety"}),i.jsx(p.Ql,{value:"maintenance",children:"Maintenance"}),i.jsx(p.Ql,{value:"compliance",children:"Compliance"}),i.jsx(p.Ql,{value:"cosmetic",children:"Cosmetic"}),i.jsx(p.Ql,{value:"structural",children:"Structural"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Estimated Cost"}),i.jsx(d.I,{type:"number",value:ee.estimatedCost,onChange:e=>es(s=>({...s,estimatedCost:parseFloat(e.target.value)||0})),placeholder:"0"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Priority (1-10)"}),i.jsx(d.I,{type:"number",min:"1",max:"10",value:ee.priority,onChange:e=>es(s=>({...s,priority:parseInt(e.target.value)||5}))})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Description"}),i.jsx(L.g,{value:ee.description,onChange:e=>es(s=>({...s,description:e.target.value})),placeholder:"Detailed description of the issue"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Recommended Action"}),i.jsx(L.g,{value:ee.recommendedAction,onChange:e=>es(s=>({...s,recommendedAction:e.target.value})),placeholder:"What should be done to resolve this issue?"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"immediate",checked:ee.requiresImmediateAttention,onChange:e=>es(s=>({...s,requiresImmediateAttention:e.target.checked}))}),i.jsx(B._,{htmlFor:"immediate",children:"Requires immediate attention"})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-2",children:[i.jsx(c.z,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),i.jsx(c.z,{onClick:ec,children:"Add Issue"})]})]})]})]}),i.jsx(V.nU,{value:"complete",className:"space-y-4",children:(0,i.jsxs)(l.Zb,{children:[(0,i.jsxs)(l.Ol,{children:[i.jsx(l.ll,{children:"Complete Inspection"}),i.jsx(l.SZ,{children:"Finalize the inspection with overall assessment and recommendations"})]}),(0,i.jsxs)(l.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Overall Condition"}),(0,i.jsxs)(p.Ph,{value:et.overallCondition,onValueChange:e=>ei(s=>({...s,overallCondition:e})),children:[i.jsx(p.i4,{children:i.jsx(p.ki,{})}),(0,i.jsxs)(p.Bw,{children:[i.jsx(p.Ql,{value:"excellent",children:"Excellent"}),i.jsx(p.Ql,{value:"good",children:"Good"}),i.jsx(p.Ql,{value:"fair",children:"Fair"}),i.jsx(p.Ql,{value:"poor",children:"Poor"}),i.jsx(p.Ql,{value:"critical",children:"Critical"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Follow-up Required"}),(0,i.jsxs)(p.Ph,{value:et.followUpRequired.toString(),onValueChange:e=>ei(s=>({...s,followUpRequired:"true"===e})),children:[i.jsx(p.i4,{children:i.jsx(p.ki,{})}),(0,i.jsxs)(p.Bw,{children:[i.jsx(p.Ql,{value:"false",children:"No"}),i.jsx(p.Ql,{value:"true",children:"Yes"})]})]})]}),et.followUpRequired&&(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Follow-up Date"}),i.jsx(d.I,{type:"date",value:et.followUpDate,onChange:e=>ei(s=>({...s,followUpDate:e.target.value}))})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Recommendations"}),i.jsx(L.g,{value:et.recommendations,onChange:e=>ei(s=>({...s,recommendations:e.target.value})),placeholder:"Overall recommendations and summary",rows:4})]}),et.followUpRequired&&(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Follow-up Notes"}),i.jsx(L.g,{value:et.followUpNotes,onChange:e=>ei(s=>({...s,followUpNotes:e.target.value})),placeholder:"Notes about the follow-up required",rows:3})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)(c.z,{variant:"outline",onClick:ep,children:[i.jsx(G.Z,{className:"w-4 h-4 mr-2"}),"Generate PDF"]}),(0,i.jsxs)(c.z,{onClick:ed,disabled:"completed"===v.status,children:[i.jsx(g.Z,{className:"w-4 h-4 mr-2"}),"completed"===v.status?"Completed":"Complete Inspection"]})]})]})]})})]})]}):(0,i.jsxs)(l.Zb,{children:[(0,i.jsxs)(l.Ol,{children:[i.jsx(l.ll,{children:"Create New Inspection"}),i.jsx(l.SZ,{children:"Schedule and conduct a property inspection"})]}),(0,i.jsxs)(l.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Inspection Type"}),(0,i.jsxs)(p.Ph,{value:X.inspectionType,onValueChange:e=>K(s=>({...s,inspectionType:e})),children:[i.jsx(p.i4,{children:i.jsx(p.ki,{})}),(0,i.jsxs)(p.Bw,{children:[i.jsx(p.Ql,{value:"move_in",children:"Move In"}),i.jsx(p.Ql,{value:"move_out",children:"Move Out"}),i.jsx(p.Ql,{value:"routine",children:"Routine"}),i.jsx(p.Ql,{value:"maintenance",children:"Maintenance"}),i.jsx(p.Ql,{value:"safety",children:"Safety"}),i.jsx(p.Ql,{value:"compliance",children:"Compliance"}),i.jsx(p.Ql,{value:"damage_assessment",children:"Damage Assessment"}),i.jsx(p.Ql,{value:"insurance",children:"Insurance"}),i.jsx(p.Ql,{value:"pre_listing",children:"Pre-Listing"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Scheduled Date"}),i.jsx(d.I,{type:"date",value:X.scheduledDate,onChange:e=>K(s=>({...s,scheduledDate:e.target.value}))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Inspector Name"}),i.jsx(d.I,{value:X.inspector.name,onChange:e=>K(s=>({...s,inspector:{...s.inspector,name:e.target.value}}))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Inspector Contact"}),i.jsx(d.I,{value:X.inspector.contact,onChange:e=>K(s=>({...s,inspector:{...s.inspector,contact:e.target.value}})),placeholder:"Phone or email"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Tenant Name (Optional)"}),i.jsx(d.I,{value:X.tenant.name,onChange:e=>K(s=>({...s,tenant:{...s.tenant,name:e.target.value}})),placeholder:"If tenant will be present"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(B._,{children:"Purpose"}),i.jsx(L.g,{value:X.purpose,onChange:e=>K(s=>({...s,purpose:e.target.value})),placeholder:"Describe the purpose of this inspection"})]})]}),_&&(0,i.jsxs)(h.bZ,{variant:"destructive",children:[i.jsx(j.Z,{className:"h-4 w-4"}),i.jsx(h.X,{children:_})]}),Z&&(0,i.jsxs)(h.bZ,{children:[i.jsx(g.Z,{className:"h-4 w-4"}),i.jsx(h.X,{children:Z})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(c.z,{onClick:er,disabled:C,children:C?"Creating...":"Create Inspection"})})]})]})}function H(){let{user:e,loading:s}=(0,r.aC)(),[t,D]=(0,a.useState)([]),[Z,q]=(0,a.useState)(null),[$,P]=(0,a.useState)(!0),[S,U]=(0,a.useState)(""),[Q,M]=(0,a.useState)(null),[A,E]=(0,a.useState)(!1),[T,R]=(0,a.useState)({search:"",status:"",inspectionType:"",condition:"",dateFrom:"",dateTo:""});if(s)return i.jsx("div",{children:"Loading..."});if(e||(0,n.redirect)("/login"),!["admin","agent"].includes(e.role))return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),i.jsx("p",{className:"text-gray-600",children:"You don't have permission to manage inspections."})]})});let F=(e,s)=>{R(t=>({...t,[e]:s}))},O=t.filter(e=>!(T.search&&!e.purpose.toLowerCase().includes(T.search.toLowerCase())&&!e.inspector.name.toLowerCase().includes(T.search.toLowerCase())||T.condition&&e.overallCondition!==T.condition||T.dateFrom&&e.scheduledDate.toDate()<new Date(T.dateFrom)||T.dateTo&&e.scheduledDate.toDate()>new Date(T.dateTo))),z=e=>({scheduled:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800",B=e=>({excellent:"bg-green-100 text-green-800",good:"bg-blue-100 text-blue-800",fair:"bg-yellow-100 text-yellow-800",poor:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800",L=e=>{let s={scheduled:x.Z,in_progress:u.Z,completed:g.Z,cancelled:j.Z}[e]||v.Z;return i.jsx(s,{className:"w-4 h-4"})};return $?(0,i.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[i.jsx(m.O,{className:"h-8 w-64"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>i.jsx(m.O,{className:"h-24"},e))}),i.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>i.jsx(m.O,{className:"h-32 w-full"},e))})]}):Q?(0,i.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[i.jsx("div",{className:"mb-6",children:i.jsx(c.z,{variant:"outline",onClick:()=>M(null),children:"← Back to Inspections"})}),i.jsx(W,{inspectionId:Q})]}):A?(0,i.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[i.jsx("div",{className:"mb-6",children:i.jsx(c.z,{variant:"outline",onClick:()=>E(!1),children:"← Back to Inspections"})}),i.jsx(W,{onInspectionCreated:e=>{E(!1),M(e)}})]}):(0,i.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Property Inspections"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage property inspections and reports"})]}),(0,i.jsxs)(c.z,{onClick:()=>E(!0),children:[i.jsx(y.Z,{className:"mr-2 h-4 w-4"}),"New Inspection"]})]}),S&&(0,i.jsxs)(h.bZ,{variant:"destructive",children:[i.jsx(j.Z,{className:"h-4 w-4"}),i.jsx(h.X,{children:S})]}),Z&&(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(l.Zb,{children:i.jsx(l.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Inspections"}),i.jsx("p",{className:"text-2xl font-bold",children:Z.total})]}),i.jsx(v.Z,{className:"h-8 w-8 text-muted-foreground"})]})})}),i.jsx(l.Zb,{children:i.jsx(l.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Critical Issues"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:Z.criticalIssues})]}),i.jsx(f.Z,{className:"h-8 w-8 text-red-500"})]})})}),i.jsx(l.Zb,{children:i.jsx(l.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Follow-ups"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Z.pendingFollowUps.length})]}),i.jsx(u.Z,{className:"h-8 w-8 text-orange-500"})]})})}),i.jsx(l.Zb,{children:i.jsx(l.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues"}),i.jsx("p",{className:"text-2xl font-bold",children:Z.totalIssues})]}),i.jsx(w.Z,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),(0,i.jsxs)(l.Zb,{children:[i.jsx(l.Ol,{children:(0,i.jsxs)(l.ll,{className:"flex items-center",children:[i.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Filters"]})}),i.jsx(l.aY,{children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[i.jsx("div",{className:"space-y-2",children:(0,i.jsxs)("div",{className:"relative",children:[i.jsx(b.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(d.I,{placeholder:"Search inspections...",value:T.search,onChange:e=>F("search",e.target.value),className:"pl-9"})]})}),i.jsx("div",{className:"space-y-2",children:(0,i.jsxs)(p.Ph,{value:T.status,onValueChange:e=>F("status",e),children:[i.jsx(p.i4,{children:i.jsx(p.ki,{placeholder:"Status"})}),(0,i.jsxs)(p.Bw,{children:[i.jsx(p.Ql,{value:"",children:"All Statuses"}),i.jsx(p.Ql,{value:"scheduled",children:"Scheduled"}),i.jsx(p.Ql,{value:"in_progress",children:"In Progress"}),i.jsx(p.Ql,{value:"completed",children:"Completed"}),i.jsx(p.Ql,{value:"cancelled",children:"Cancelled"})]})]})}),i.jsx("div",{className:"space-y-2",children:(0,i.jsxs)(p.Ph,{value:T.inspectionType,onValueChange:e=>F("inspectionType",e),children:[i.jsx(p.i4,{children:i.jsx(p.ki,{placeholder:"Type"})}),(0,i.jsxs)(p.Bw,{children:[i.jsx(p.Ql,{value:"",children:"All Types"}),i.jsx(p.Ql,{value:"move_in",children:"Move In"}),i.jsx(p.Ql,{value:"move_out",children:"Move Out"}),i.jsx(p.Ql,{value:"routine",children:"Routine"}),i.jsx(p.Ql,{value:"maintenance",children:"Maintenance"}),i.jsx(p.Ql,{value:"safety",children:"Safety"}),i.jsx(p.Ql,{value:"compliance",children:"Compliance"}),i.jsx(p.Ql,{value:"damage_assessment",children:"Damage Assessment"}),i.jsx(p.Ql,{value:"insurance",children:"Insurance"}),i.jsx(p.Ql,{value:"pre_listing",children:"Pre-Listing"})]})]})}),i.jsx("div",{className:"space-y-2",children:(0,i.jsxs)(p.Ph,{value:T.condition,onValueChange:e=>F("condition",e),children:[i.jsx(p.i4,{children:i.jsx(p.ki,{placeholder:"Condition"})}),(0,i.jsxs)(p.Bw,{children:[i.jsx(p.Ql,{value:"",children:"All Conditions"}),i.jsx(p.Ql,{value:"excellent",children:"Excellent"}),i.jsx(p.Ql,{value:"good",children:"Good"}),i.jsx(p.Ql,{value:"fair",children:"Fair"}),i.jsx(p.Ql,{value:"poor",children:"Poor"}),i.jsx(p.Ql,{value:"critical",children:"Critical"})]})]})}),i.jsx("div",{className:"space-y-2",children:i.jsx(d.I,{type:"date",placeholder:"From Date",value:T.dateFrom,onChange:e=>F("dateFrom",e.target.value)})}),i.jsx("div",{className:"space-y-2",children:i.jsx(d.I,{type:"date",placeholder:"To Date",value:T.dateTo,onChange:e=>F("dateTo",e.target.value)})})]})})]}),(0,i.jsxs)(l.Zb,{children:[i.jsx(l.Ol,{children:(0,i.jsxs)(l.ll,{children:["Inspections (",O.length,")"]})}),i.jsx(l.aY,{children:0===O.length?(0,i.jsxs)("div",{className:"text-center py-8",children:[i.jsx(v.Z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No inspections found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first property inspection."}),(0,i.jsxs)(c.z,{onClick:()=>E(!0),children:[i.jsx(y.Z,{className:"mr-2 h-4 w-4"}),"New Inspection"]})]}):i.jsx("div",{className:"space-y-4",children:O.map(e=>(0,i.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>M(e.id),children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-semibold",children:e.purpose}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.inspectionType.replace("_"," ").toUpperCase()," | Property ",e.propertyId.slice(0,8),"..."]})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsxs)(o.C,{className:z(e.status),children:[L(e.status),i.jsx("span",{className:"ml-1",children:e.status.replace("_"," ")})]}),i.jsx(o.C,{className:B(e.overallCondition),children:e.overallCondition.toUpperCase()})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(x.Z,{className:"w-4 h-4 mr-2"}),(0,I.WU)(e.scheduledDate.toDate(),"MMM dd, yyyy")]}),(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(C.Z,{className:"w-4 h-4 mr-2"}),e.inspector.name]}),(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(k.Z,{className:"w-4 h-4 mr-2"}),e.areas.length," areas, ",e.issues.length," issues"]})]}),e.followUpRequired&&(0,i.jsxs)("div",{className:"mt-3 flex items-center text-orange-600 text-sm",children:[i.jsx(f.Z,{className:"w-4 h-4 mr-1"}),"Follow-up required",e.followUpDate&&(0,i.jsxs)("span",{className:"ml-2",children:["by ",(0,I.WU)(e.followUpDate.toDate(),"MMM dd, yyyy")]})]}),i.jsx("div",{className:"mt-3 flex justify-end",children:(0,i.jsxs)(c.z,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),M(e.id)},children:[i.jsx(_.Z,{className:"w-4 h-4 mr-2"}),"View Details"]})})]},e.id))})})]})]})}},79210:(e,s,t)=>{"use strict";t.d(s,{SP:()=>c,dr:()=>o,mQ:()=>l,nU:()=>d});var i=t(10326),a=t(17577),r=t(28407),n=t(77863);let l=r.fC,o=a.forwardRef(({className:e,...s},t)=>i.jsx(r.aV,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));o.displayName=r.aV.displayName;let c=a.forwardRef(({className:e,...s},t)=>i.jsx(r.xz,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));c.displayName=r.xz.displayName;let d=a.forwardRef(({className:e,...s},t)=>i.jsx(r.VY,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));d.displayName=r.VY.displayName},38787:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},37358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},51896:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},30361:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},31540:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},36283:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},41137:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},83855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},17069:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},50949:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},79635:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});let i=(0,t(62881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},20767:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});let i=(0,t(68570).createProxy)(String.raw`/Users/memimal/Desktop/PROJECTS/MMG/mmg-platform/app/inspections/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),i=s.X(0,[100,825,423,344,804,506,407,307,488],()=>t(11456));module.exports=i})();