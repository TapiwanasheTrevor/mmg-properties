(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{62536:function(e,t,s){Promise.resolve().then(s.bind(s,35325))},35325:function(e,t,s){"use strict";s.d(t,{default:function(){return y}});var a=s(57437),r=s(2265),n=s(99376),l=s(62869),i=s(95186),c=s(26815),o=s(66070),u=s(12339),d=s(65613),f=s(6512),m=s(49322),h=s(89345),x=s(13041),p=s(16023);function y(){let e=(0,n.useRouter)(),[t,s]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[g,N]=(0,r.useState)(""),[w,S]=(0,r.useState)(""),[k,C]=(0,r.useState)(""),[P,z]=(0,r.useState)(""),[Z,M]=(0,r.useState)(!1),[_,R]=(0,r.useState)(""),[V,O]=(0,r.useState)(null),q=async t=>{t.preventDefault(),s(!0),v("");try{await (0,p.Ry)(g,w),e.push("/dashboard")}catch(e){v(e.message)}finally{s(!1)}},D=async()=>{s(!0),v("");try{await (0,p.qj)(),e.push("/dashboard")}catch(e){v(e.message)}finally{s(!1)}},E=()=>{if(!V){let e=(0,p.jz)("recaptcha-container");return O(e),e}return V},I=async e=>{e.preventDefault(),s(!0),v("");try{let e=E(),t=await (0,p.OA)(k,e);z(t),M(!0),j("OTP sent to your phone number")}catch(e){v(e.message)}finally{s(!1)}},F=async t=>{t.preventDefault(),s(!0),v("");try{await (0,p.qD)(P,_),e.push("/dashboard")}catch(e){v(e.message)}finally{s(!1)}},T=async()=>{if(!g){v("Please enter your email address first");return}s(!0),v("");try{await (0,p.c0)(g),j("Password reset email sent!")}catch(e){v(e.message)}finally{s(!1)}};return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 p-4",children:(0,a.jsxs)(o.Zb,{className:"w-full max-w-md",children:[(0,a.jsxs)(o.Ol,{className:"text-center",children:[(0,a.jsx)(o.ll,{className:"text-2xl font-bold",children:"Welcome Back"}),(0,a.jsx)(o.SZ,{children:"Sign in to your MMG Property Management account"})]}),(0,a.jsxs)(o.aY,{children:[y&&(0,a.jsxs)(d.bZ,{variant:"destructive",className:"mb-4",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),(0,a.jsx)(d.X,{children:y})]}),b&&(0,a.jsx)(d.bZ,{className:"mb-4",children:(0,a.jsx)(d.X,{children:b})}),(0,a.jsxs)(u.mQ,{defaultValue:"email",className:"w-full",children:[(0,a.jsxs)(u.dr,{className:"grid w-full grid-cols-2",children:[(0,a.jsxs)(u.SP,{value:"email",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Email"]}),(0,a.jsxs)(u.SP,{value:"phone",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Phone"]})]}),(0,a.jsxs)(u.nU,{value:"email",className:"space-y-4",children:[(0,a.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"email",children:"Email"}),(0,a.jsx)(i.I,{id:"email",type:"email",placeholder:"Enter your email",value:g,onChange:e=>N(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"password",children:"Password"}),(0,a.jsx)(i.I,{id:"password",type:"password",placeholder:"Enter your password",value:w,onChange:e=>S(e.target.value),required:!0})]}),(0,a.jsx)(l.z,{type:"submit",className:"w-full",disabled:t,children:t?"Signing in...":"Sign In"})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{type:"button",onClick:T,className:"text-sm text-blue-600 hover:underline",disabled:t,children:"Forgot your password?"})})]}),(0,a.jsxs)(u.nU,{value:"phone",className:"space-y-4",children:[Z?(0,a.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"otp",children:"Enter OTP"}),(0,a.jsx)(i.I,{id:"otp",type:"text",placeholder:"123456",value:_,onChange:e=>R(e.target.value),required:!0})]}),(0,a.jsx)(l.z,{type:"submit",className:"w-full",disabled:t,children:t?"Verifying...":"Verify OTP"}),(0,a.jsx)(l.z,{type:"button",variant:"outline",className:"w-full",onClick:()=>{M(!1),R(""),z("")},children:"Back to Phone Number"})]}):(0,a.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)(i.I,{id:"phone",type:"tel",placeholder:"+263 77 123 4567",value:k,onChange:e=>C(e.target.value),required:!0})]}),(0,a.jsx)(l.z,{type:"submit",className:"w-full",disabled:t,children:t?"Sending OTP...":"Send OTP"})]}),(0,a.jsx)("div",{id:"recaptcha-container"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)(f.Z,{className:"my-4"}),(0,a.jsxs)(l.z,{type:"button",variant:"outline",className:"w-full",onClick:D,disabled:t,children:[(0,a.jsxs)("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]})]}),(0,a.jsx)(o.eW,{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)("a",{href:"/register",className:"text-blue-600 hover:underline",children:"Sign up"})]})})]})})}},95186:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var a=s(57437),r=s(2265),n=s(94508);let l=r.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});l.displayName="Input"},26815:function(e,t,s){"use strict";s.d(t,{_:function(){return o}});var a=s(57437),r=s(2265),n=s(6394),l=s(90535),i=s(94508);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,i.cn)(c(),s),...r})});o.displayName=n.f.displayName},6512:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(57437),r=s(2265),n=s(55156),l=s(94508);let i=r.forwardRef((e,t)=>{let{className:s,orientation:r="horizontal",decorative:i=!0,...c}=e;return(0,a.jsx)(n.f,{ref:t,decorative:i,orientation:r,className:(0,l.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...c})});i.displayName=n.f.displayName},12339:function(e,t,s){"use strict";s.d(t,{SP:function(){return o},dr:function(){return c},mQ:function(){return i},nU:function(){return u}});var a=s(57437),r=s(2265),n=s(20271),l=s(94508);let i=n.fC,c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});c.displayName=n.aV.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.xz,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});o.displayName=n.xz.displayName;let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.VY,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});u.displayName=n.VY.displayName},49322:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},89345:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},13041:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},6394:function(e,t,s){"use strict";s.d(t,{f:function(){return i}});var a=s(2265),r=s(66840),n=s(57437),l=a.forwardRef((e,t)=>(0,n.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l},55156:function(e,t,s){"use strict";s.d(t,{f:function(){return o}});var a=s(2265),r=s(66840),n=s(57437),l="horizontal",i=["horizontal","vertical"],c=a.forwardRef((e,t)=>{let{decorative:s,orientation:a=l,...c}=e,o=i.includes(a)?a:l;return(0,n.jsx)(r.WV.div,{"data-orientation":o,...s?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:t})});c.displayName="Separator";var o=c}},function(e){e.O(0,[4358,139,92,5189,271,9984,2971,2117,1744],function(){return e(e.s=62536)}),_N_E=e.O()}]);