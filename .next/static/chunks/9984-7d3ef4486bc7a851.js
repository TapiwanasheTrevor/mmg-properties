"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9984],{65613:function(e,r,t){t.d(r,{X:function(){return d},bZ:function(){return u}});var a=t(57437),n=t(2265),s=t(90535),i=t(94508);let o=(0,s.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),u=n.forwardRef((e,r)=>{let{className:t,variant:n,...s}=e;return(0,a.jsx)("div",{ref:r,role:"alert",className:(0,i.cn)(o({variant:n}),t),...s})});u.displayName="Alert",n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("h5",{ref:r,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",t),...n})}).displayName="AlertTitle";let d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",t),...n})});d.displayName="AlertDescription"},62869:function(e,r,t){t.d(r,{z:function(){return d}});var a=t(57437),n=t(2265),s=t(37053),i=t(90535),o=t(94508);let u=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,r)=>{let{className:t,variant:n,size:i,asChild:d=!1,...c}=e,l=d?s.g7:"button";return(0,a.jsx)(l,{className:(0,o.cn)(u({variant:n,size:i,className:t})),ref:r,...c})});d.displayName="Button"},66070:function(e,r,t){t.d(r,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},eW:function(){return l},ll:function(){return u}});var a=t(57437),n=t(2265),s=t(94508);let i=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});i.displayName="Card";let o=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...n})});o.displayName="CardHeader";let u=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});u.displayName="CardTitle";let d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",t),...n})});c.displayName="CardContent";let l=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...n})});l.displayName="CardFooter"},16023:function(e,r,t){t.d(r,{Ac:function(){return I},Fs:function(){return N},Mx:function(){return w},OA:function(){return f},Rg:function(){return x},Ry:function(){return u},Sv:function(){return A},Ts:function(){return b},Yb:function(){return d},bl:function(){return R},c0:function(){return m},jz:function(){return l},kS:function(){return j},qD:function(){return p},qj:function(){return c},wP:function(){return k},yv:function(){return g}});var a=t(43301),n=t(5978),s=t(17293);let i=e=>{switch(e.code){case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters long.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-disabled":return"This account has been disabled.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your connection.";default:return e.message||"An unexpected error occurred."}},o=()=>{if(!(0,s.Wn)())throw Error("Firebase is not properly configured. Please set up your Firebase project.")},u=async(e,r)=>{o();try{let t=await (0,a.e5)(s.I8,e,r);return await y(t.user.uid),t}catch(e){throw Error(i(e))}},d=async function(e,r,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"tenant";o();try{let i=await (0,a.Xb)(s.I8,e,r);return await (0,a.ck)(i.user,{displayName:t}),await v(i.user,n),i}catch(e){throw Error(i(e))}},c=async()=>{o();try{let e=new a.hJ;e.addScope("email"),e.addScope("profile");let r=await (0,a.rh)(s.I8,e);return(await (0,n.QT)((0,n.JU)(s.db,"users",r.user.uid))).exists()?await y(r.user.uid):await v(r.user,"tenant"),r}catch(e){throw Error(i(e))}},l=e=>(o(),new a.lI(s.I8,e,{size:"normal",callback:()=>{},"expired-callback":()=>{}})),f=async(e,r)=>{o();try{return await (0,a.$g)(s.I8,e,r)}catch(e){throw Error(i(e))}},p=async(e,r)=>{try{let t=await e.confirm(r);return(await (0,n.QT)((0,n.JU)(s.db,"users",t.user.uid))).exists()?await y(t.user.uid):await v(t.user,"tenant"),t}catch(e){throw Error("Invalid verification code. Please try again.")}},m=async e=>{o();try{await (0,a.LS)(s.I8,e)}catch(e){throw Error(i(e))}},w=async()=>{o();try{await (0,a.w7)(s.I8)}catch(e){throw Error("Failed to sign out. Please try again.")}},g=e=>(o(),(0,a.Aj)(s.I8,e)),v=async(e,r)=>{var t,a;let i={id:e.uid,email:e.email,role:r,profile:{firstName:(null===(t=e.displayName)||void 0===t?void 0:t.split(" ")[0])||"",lastName:(null===(a=e.displayName)||void 0===a?void 0:a.split(" ").slice(1).join(" "))||"",avatar:e.photoURL||void 0},phone:e.phoneNumber||void 0,permissions:h(r),isActive:!0,mfaEnabled:!1,mfaSetupRequired:!1,lastLogin:(0,n.Bt)(),createdAt:(0,n.Bt)()};await (0,n.pl)((0,n.JU)(s.db,"users",e.uid),i)},y=async e=>{await (0,n.r7)((0,n.JU)(s.db,"users",e),{lastLogin:(0,n.Bt)()})},h=e=>{switch(e){case"admin":return["users:read","users:write","users:delete","properties:read","properties:write","properties:delete","leases:read","leases:write","leases:delete","maintenance:read","maintenance:write","maintenance:delete","payments:read","payments:write","payments:delete","reports:read","reports:write","settings:read","settings:write"];case"owner":return["properties:read","properties:write","leases:read","leases:write","maintenance:read","maintenance:write","payments:read","reports:read"];case"agent":return["properties:read","leases:read","leases:write","maintenance:read","maintenance:write","payments:read"];case"tenant":return["properties:read","leases:read","maintenance:read","maintenance:write","payments:read"];default:return[]}},b=async()=>{o();let e=s.I8.currentUser;if(!e)return null;let r=await (0,n.QT)((0,n.JU)(s.db,"users",e.uid));return r.exists()?r.data():null},x=async e=>{o();let r=e?await b():s.I8.currentUser?await b():null;return(null==r?void 0:r.role)||null},N=async(e,r)=>{o();let t=await b();return!!t&&t.permissions.includes(e)},k=async(e,r)=>{o();let t=await b();return!!t&&e.every(e=>t.permissions.includes(e))},I=async(e,r)=>{o();let t=await b();return!!t&&e.includes(t.role)},j=w,A=async e=>{o();try{let e=s.I8.currentUser;if(!e)return!1;let r=await (0,n.QT)((0,n.JU)(s.db,"users",e.uid));if(!r.exists())return!1;let t=r.data();return!0===t.isActive}catch(e){return console.error("Session validation error:",e),!1}},R=async(e,r,t)=>{o();try{var a;let i=t||(null===(a=s.I8.currentUser)||void 0===a?void 0:a.uid);if(!i)return;await (0,n.pl)((0,n.JU)(s.db,"audit_logs","".concat(i,"_").concat(Date.now())),{userId:i,eventType:e,eventData:r,timestamp:(0,n.Bt)(),userAgent:window.navigator.userAgent,ipAddress:null})}catch(e){console.error("Audit logging error:",e)}}},17293:function(e,r,t){t.d(r,{I8:function(){return c},Wn:function(){return f},db:function(){return d},tO:function(){return l}});var a=t(738),n=t(5978),s=t(43301),i=t(60062),o=t(85434);let u=(0,a.C6)().length?(0,a.Mq)():(0,a.ZF)({apiKey:"AIzaSyD-w4tP94wfkorfa0vgKFd4kVYU-qDqe48",authDomain:"mmg-platform.firebaseapp.com",databaseURL:"https://mmg-platform-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mmg-platform",storageBucket:"mmg-platform.firebasestorage.app",messagingSenderId:"220106972775",appId:"1:220106972775:web:04a44cb649fb1c617afec2"}),d=(0,n.ad)(u),c=(0,s.v0)(u),l=(0,i.cF)(u);(0,o.$C)(u);let f=()=>!0;f()||console.warn("\uD83D\uDD25 Firebase is using demo configuration. Please set up your Firebase project and update environment variables.")},94508:function(e,r,t){t.d(r,{cn:function(){return s}});var a=t(61994),n=t(53335);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,a.W)(r))}}}]);